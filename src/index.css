:root {
	--dm-bg1: #262626;
	--dm-bg2: #2f2f2f;

	--wm-bg1: white;
	--wm-bg2: #f4f4f4;
	--wm-bg3: #dee6ee;

	--dm-border1: #424242;
	--dm-border2: #4c4c4c;

	--dm-text: #aaaaaa;
	--wm-text: #4b5563;

	--col-btn: #ef4444;
	--col-btn-hl: #f87171;

	--col-dock: #f8fafc;
	--col-dock-hl: #cbd5e1;

	--wm-icon: rgba(0,0,0,0.65);
	--wm-border1: rgba(0,0,0,0.2);

	--dm-tile-border: #303030;
	--dm-tile-filter: invert(100%) hue-rotate(190deg) brightness(100%) contrast(90%) blur(0px);
	/*--dm-tile-filter: invert(20%) hue-rotate(110deg) contrast(90%) blur(0px); /* pink filter */
}
svg:has(path[stroke=red]) {
	opacity: 0.3;
	& path { fill-opacity: 1; }
}

path:not([stroke=red]) {
	opacity: 0.8;
	fill-opacity: 0.35;
}

.p-progress-spinner-circle {
	stroke: var(--col-btn) !important;
}

.fas {
	font-size: 28px;
	background-size: 44px 44px;
	width: 44px !important;
	height: 44px !important;
	
	&:before {
		color: black;
		position: absolute;
		margin: 7px 8px;
		right: 0;
	}
}

*:has(> .fas) {
	background-size: 44px 44px;
	width: 44px;
	height: 44px;
}

body {
	margin: 0;
}

input[type=checkbox] + span,
input[type=radio	 ] + span {
	user-select: none;
}

section:has(section) {
	position: fixed;
	width: 100%;
	height: 100%; 
}

#ui {
	z-index: 2;
	pointer-events: none;
	margin: 10px;

	& * {
		pointer-events: auto;
	}
}

#dock {
	justify-content: center;
	display: flex;

	&:has(.p-buttonset) {
		position: fixed;
		right: 0;
		left: 0;
	}
}

.p-dataview .p-dataview-content {
	background: none;
}

.p-card.p-component {
	background-color: var(--dm-border1);
	color: white;
	overflow: hidden;
	box-shadow: none;
	border: none;
	margin-bottom: 12px;
}

.p-card-body {
	padding: 0;
}
.p-card-title,
.p-card-subtitle {
	background-color: var(--col-btn);
	width: 100%;
	padding-inline: 16px;
	margin-bottom: 0;
	padding-bottom: 4px;
	color: white;
	text-align: center;

	&.p-card-subtitle {
		color: var(--col-dock);
	}
}
.p-card-content {
	padding-inline: 16px;
}

/* LIGHT */
body[theme=light] {
  & .leaflet-control-zoom span {
    color: var(--wm-icon) !important;
  }

	& .leaflet-tile,
	& .leaflet-container,
	& .fas:before {
		transition: all 0.5s;
	}

	& .leaflet-control, & .leaflet-bar a {
		border-width: 1px !important;
		border-style: solid !important;
		border-color: var(--wm-border1) !important;
		transition: background 0.5s, color 0.5s, border-color 0.5s;
	}

  .p-buttonset {
    border-color: var(--wm-border1) !important;

    & .p-button:first-of-type, & .p-button:last-of-type {
			width: 48vw;
			max-width: 400px;
      background: var(--wm-bg1) !important;
      color: var(--wm-icon) !important;
  
      &:not(:disabled):hover { 
        background: var(--wm-bg2) !important;
      }
    }

		position: fixed;
		bottom: 0;
		margin: 32px;
		margin-inline: 0px;

		border-width: 1px;
		border-style: solid;
		border-radius: 120px;
		overflow: hidden;
		
		& .p-button-rounded {
			border-radius: 10rem !important;
			position: fixed;
			z-index: 4;
			width: 80px !important;
			height: 80px !important;
			transform: translate(-32px, -40px);
		}

		& .p-button:first-child { transform: translateX( 1px); }
		& .p-button:last-child  { transform: translateX(-1px); }
  }
  
  /* UI */
  & .p-button {
		background: var(--col-btn);
		border: var(--col-btn);
		width: 4rem;
		height: 4rem;
		box-shadow: none !important;
		justify-content: center;

		&:not(:active):hover { 
			background: var(--col-btn-hl);
		}

		& .pi-map-marker {
			transform: scale(1.5);
		}

		& .fas {
			width: 48px !important;
			height: 48px !important;
			font-size: 48px !important;
			margin: calc((80px - 48px) / 2);
			text-align: center;
		}
		& .fas:before {
			position: relative;
			margin: 0px;
			color: white !important;
		}
	}

	& .p-card.p-component {
		background-color: var(--wm-bg3);
		color: var(--wm-text);
	}
	
	& #btn-close {
		color: var(--dm-bg1);
	}
}

/* DARK */
body[theme=dark] {
  &:has(label:last-of-type input[type=radio]:not(:checked)) .leaflet-tile {
    filter: var(--dm-tile-filter, none) !important;
  }

  & .leaflet-container {
    background: var(--dm-tile-border) !important;
		transition: all 0.5s;
  }

  & .leaflet-control, & .leaflet-bar a {
    background: var(--dm-bg1) !important;
    color: var(--dm-text) !important;
    border-color: var(--dm-border1) !important;
		border-width: 1px !important;
		border-style: solid !important;
		transition: background 0.5s, color 0.5s, border-color 0.5s;
    
    &:not(input):hover {
      background: var(--dm-bg2) !important;
      border-color: var(--dm-border2) !important;
    }
  }

	& .leaflet-tile {
		transition: all 0.5s;
	}

  & .fas:before {
    color: var(--dm-text) !important;
		transition: all 0.5s;
  }

  & .p-buttonset {
    border-color: var(--dm-border1) !important;

    & .p-button:first-of-type, & .p-button:last-of-type {
      background: var(--dm-bg1) !important;
      color: var(--dm-text) !important;
			width: 48vw;
			max-width: 400px;
  
      &:not(:active):hover { 
        background: var(--dm-bg2) !important;
      }
    }

		position: fixed;
		bottom: 0;
		margin: 32px;
		margin-inline: 0px;

		border-width: 1px;
		border-style: solid;
		border-radius: 120px;
		overflow: hidden;
		
		& .p-button-rounded {
			border-radius: 10rem !important;
			position: fixed;
			z-index: 4;
			width: 80px !important;
			height: 80px !important;
			transform: translate(-32px, -40px);
		}

		& .p-button:first-child { transform: translateX( 1px); }
		& .p-button:last-child  { transform: translateX(-1px); }
  }

  & .p-sidebar {
    background: var(--dm-bg2) !important;
    color: var(--dm-text) !important;
    
    & h2 {
      color: white !important;
    }
  }

  /* UI */
  & .p-button {
		background: var(--col-btn);
		border: var(--col-btn);
		width: 4rem;
		height: 4rem;
		box-shadow: none !important;
		justify-content: center;

		&:not(:disabled):hover { 
			background: var(--col-btn-hl);
		}
		& .pi-map-marker {
			transform: scale(1.5);
		}

		& .fas {
			width: 48px !important;
			height: 48px !important;
			font-size: 48px !important;
			margin: calc((80px - 48px) / 2);
			text-align: center;
		}
		& .fas:before {
			position: relative;
			margin: 0px;
			color: white !important;
		}
	}

	& .p-card.p-component {
		background-color: var(--dm-border1);
		color: white;
	}

	& #btn-close {
		color: white;
	}

	& .p-menuitem-content {
		padding: 0.25rem 0;
		& span {
			color: white !important;
		}
		&:hover {
			background-color: var(--dm-border1) !important;
		}
	}
}

#btn-close {
	background-color: transparent;
	padding: 0;
	width: 42px;
	height: 42px;
	margin-top: auto;
	margin-bottom: auto;
	margin-left: auto;
}

.sidebar-header {
	display: inline-flex;
	width: 100%;
	& h2 {
		width: auto;
	}
}

.p-menu {
	padding: 0;
	background: transparent;
	border: none;
	border-radius: 0;
	width: calc(100% + 40px);
	margin-inline: -20px;

	& .p-menuitem-content, & span {
		font-size: large;
		padding-top: .25rem;
		padding-bottom: .25rem;
	}
	
	& .p-focus {
		background: none !important;

		& .p-menuitem-content {
			background-color: transparent !important;
		}
	}
}